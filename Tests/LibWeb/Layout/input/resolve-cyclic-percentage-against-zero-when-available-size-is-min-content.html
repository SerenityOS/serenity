<!DOCTYPE html><style>
  * {
    border: 1px solid red;
  }
  div.w.min { width: min-content; }
  div.w.max { width: max-content; }
  div.w > img { width: 100%; }
  div.h.min { height: min-content; }
  div.h.max { height: min-content; }
  div.h > img { height: 100%; }
</style>
<div class="w min"><img src="400.png"></div>
<div class="w max"><img src="400.png"></div>
<div class="h min"><img src="400.png"></div>
<div class="h max"><img src="400.png"></div>
