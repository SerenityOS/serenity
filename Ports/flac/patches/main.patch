--- flac-1.3.3/examples/c/decode/file/main.c	2021-04-02 15:56:00.387442700 +0200
+++ flac-1.3.3-patched/examples/c/decode/file/main.c	2021-04-02 16:03:45.075749100 +0200
@@ -66,6 +66,7 @@
 	;
 }
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	FLAC__bool ok = true;
--- flac-1.3.3/examples/c/encode/file/main.c	2021-04-02 15:56:00.383242100 +0200
+++ flac-1.3.3-patched/examples/c/encode/file/main.c	2021-04-02 16:03:52.484808400 +0200
@@ -44,6 +44,7 @@
 static FLAC__byte buffer[READSIZE/*samples*/ * 2/*bytes_per_sample*/ * 2/*channels*/]; /* we read the WAVE data into here */
 static FLAC__int32 pcm[READSIZE/*samples*/ * 2/*channels*/];
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	FLAC__bool ok = true;
--- flac-1.3.3/examples/cpp/decode/file/main.cpp	2021-04-02 16:25:15.758601100 +0200
+++ flac-1.3.3-patched/examples/cpp/decode/file/main.cpp	2021-04-02 16:03:59.104973600 +0200
@@ -77,6 +77,7 @@
 	OurDecoder&operator=(const OurDecoder&);
 };
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	bool ok = true;
--- flac-1.3.3/examples/cpp/encode/file/main.cpp	2021-04-02 16:25:15.752708600 +0200
+++ flac-1.3.3-patched/examples/cpp/encode/file/main.cpp	2021-04-02 16:04:04.878292700 +0200
@@ -52,6 +52,7 @@
 static FLAC__byte buffer[READSIZE/*samples*/ * 2/*bytes_per_sample*/ * 2/*channels*/]; /* we read the WAVE data into here */
 static FLAC__int32 pcm[READSIZE/*samples*/ * 2/*channels*/];
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	bool ok = true;
--- flac-1.3.3/src/flac/main.c	2021-04-02 16:25:15.827238700 +0200
+++ flac-1.3.3-patched/src/flac/main.c	2021-04-02 16:04:18.342186700 +0200
@@ -294,6 +294,7 @@
 static uint32_t align_reservoir_samples = 0; /* 0 .. 587 */
 
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	int retval = 0;
--- flac-1.3.3/src/metaflac/main.c	2021-04-02 16:25:15.809326800 +0200
+++ flac-1.3.3-patched/src/metaflac/main.c	2021-04-02 16:04:31.520106100 +0200
@@ -28,6 +28,7 @@
 #include <string.h>
 #include "share/compat.h"
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	CommandLineOptions options;
--- flac-1.3.3/src/test_grabbag/cuesheet/main.c	2021-04-02 16:25:15.927529100 +0200
+++ flac-1.3.3-patched/src/test_grabbag/cuesheet/main.c	2021-04-02 16:04:40.349075800 +0200
@@ -113,6 +113,7 @@
 	return 0;
 }
 
+__attribute__((visibility("default"))) 
 int main(int argc, char *argv[])
 {
 	FLAC__uint64 lead_out_offset;
--- flac-1.3.3/src/test_grabbag/picture/main.c	2021-04-02 16:25:15.923555900 +0200
+++ flac-1.3.3-patched/src/test_grabbag/picture/main.c	2021-04-02 16:05:07.318279700 +0200
@@ -204,6 +204,7 @@
 	return true;
 }
 
+__attribute__((visibility("default")))
 int main(int argc, char *argv[])
 {
 	const char *usage = "usage: test_pictures path_prefix\n";
--- flac-1.3.3/src/test_libFLAC/main.c	2021-04-02 16:25:15.909987800 +0200
+++ flac-1.3.3-patched/src/test_libFLAC/main.c	2021-04-02 16:05:15.162901100 +0200
@@ -31,6 +31,7 @@
 #include "metadata.h"
 #include "md5.h"
 
+__attribute__((visibility("default")))
 int main(void)
 {
 	if(!test_endswap())
--- flac-1.3.3/src/test_libFLAC++/main.cpp	2021-04-02 16:25:15.971378500 +0200
+++ flac-1.3.3-patched/src/test_libFLAC++/main.cpp	2021-04-02 16:05:19.957391900 +0200
@@ -25,6 +25,7 @@
 #include "encoders.h"
 #include "metadata.h"
 
+__attribute__((visibility("default")))
 int main(int argc, char *argv[])
 {
 	(void)argc, (void)argv;
--- flac-1.3.3/src/test_seeking/main.c	2021-04-02 16:25:15.956866300 +0200
+++ flac-1.3.3-patched/src/test_seeking/main.c	2021-04-02 16:05:29.029348800 +0200
@@ -392,7 +392,7 @@
 	return true;
 }
 
-
+__attribute__((visibility("default")))
 int main(int argc, char *argv[])
 {
 	const char *flacfilename, *rawfilename = 0;
--- flac-1.3.3/src/test_streams/main.c	2021-04-02 16:25:15.818363300 +0200
+++ flac-1.3.3-patched/src/test_streams/main.c	2021-04-02 16:05:40.938316500 +0200
@@ -1108,6 +1108,7 @@
 	return false;
 }
 
+__attribute__((visibility("default")))
 int main(int argc, char *argv[])
 {
 	FLAC__uint32 test = 1;
--- flac-1.3.3/src/utils/flacdiff/main.cpp	2021-04-02 16:25:15.852263800 +0200
+++ flac-1.3.3-patched/src/utils/flacdiff/main.cpp	2021-04-02 16:05:48.231146000 +0200
@@ -206,6 +206,7 @@
 	return show_diff(f1, f2, off);
 }
 
+__attribute__((visibility("default")))
 int main(int argc, char *argv[])
 {
 	const char *usage = "usage: flacdiff flacfile1 flacfile2\n";
--- flac-1.3.3/src/utils/flactimer/main.cpp	2021-04-02 16:25:15.848618900 +0200
+++ flac-1.3.3-patched/src/utils/flactimer/main.cpp	2021-04-02 16:05:55.235245800 +0200
@@ -53,6 +53,7 @@
 	);
 }
 
+__attribute__((visibility("default")))
 int main(int argc, char *argv[])
 {
 	const char *usage = "usage: flactimer [-1 | -2 | -o outputfile] command\n";
--- flac-1.3.3/microbench/benchmark_residual.c	2021-04-03 03:59:03.339941000 +0200
+++ flac-1.3.3-patched/microbench/benchmark_residual.c	2021-04-03 03:59:18.714552900 +0200
@@ -123,6 +123,7 @@
 {	FLAC__fixed_compute_residual_mult (data, ARRAY_LEN (data), bench_order, residual) ;
 }
 
+__attribute__((visibility("default")))
 int
 main (void)
 {	bench_stats	stats ;
