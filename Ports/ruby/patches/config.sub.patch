--- ruby-3.0.1/tool/config.sub  2021-04-05 05:33:42.000000000 -0700
+++ ruby-3.0.1/tool/config.serenity.sub 2021-06-03 12:44:15.000000000 -0700
@@ -1399,6 +1399,9 @@
        os400*)
                os=os400
                ;;
+       serenity*)
+               os=serenity
+               ;;
        sunos5*)
                os=$(echo "$os" | sed -e 's|sunos5|solaris2|')
                ;;
@@ -1725,7 +1728,8 @@
             | skyos* | haiku* | rdos* | toppers* | drops* | es* \
             | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \
             | midnightbsd* | amdhsa* | unleashed* | emscripten* | wasi* \
-            | nsk* | powerunix* | genode* | zvmoe* | qnx* | emx*)
+            | nsk* | powerunix* | genode* | zvmoe* | qnx* | emx* \
+            | serenity* )
                ;;
        # This one is extra strict with allowed versions
        sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
