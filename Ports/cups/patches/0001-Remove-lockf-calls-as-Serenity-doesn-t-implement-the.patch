From d70bae664aaabd4f09083d0799d8f2cc23e6b128 Mon Sep 17 00:00:00 2001
From: Timur Sultanov <SultanovTS@yandex.ru>
Date: Sun, 6 Feb 2022 19:33:57 +0300
Subject: [PATCH 01/24] Remove lockf() calls as Serenity doesn't implement them

---
 cups/file.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/cups/file.c b/cups/file.c
index e6e1f5b..1fa864e 100644
--- a/cups/file.c
+++ b/cups/file.c
@@ -1030,7 +1030,7 @@ cupsFileLock(cups_file_t *fp,		/* I - CUPS file */
 #ifdef _WIN32
   return (_locking(fp->fd, block ? _LK_LOCK : _LK_NBLCK, 0));
 #else
-  return (lockf(fp->fd, block ? F_LOCK : F_TLOCK, 0));
+  return 0; // Who cares about actually locking a file? (lockf(fp->fd, block ? F_LOCK : F_TLOCK, 0));
 #endif /* _WIN32 */
 }
 
@@ -2075,7 +2075,7 @@ cupsFileUnlock(cups_file_t *fp)		/* I - CUPS file */
 #ifdef _WIN32
   return (_locking(fp->fd, _LK_UNLCK, 0));
 #else
-  return (lockf(fp->fd, F_ULOCK, 0));
+  return 0; // Who cares about actually locking a file? (lockf(fp->fd, F_ULOCK, 0));
 #endif /* _WIN32 */
 }
 
-- 
2.25.1

